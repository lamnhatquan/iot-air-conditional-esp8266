#include <ESP8266WiFi.h>
#include "WiFiManager.h"
#include <IRremoteESP8266.h>
#include <IRsend.h>
#include <WiFiManager.h>

IRsend irsend(4);  // An IR LED is controlled by GPIO4

uint16_t rawDataOff[199] = {4492, 4374, 608, 1550, 568,  512,  566, 1588, 568, 1588, 570, 512,
                            566, 512,  566, 1588, 582,  500,  566, 512,  566, 1588, 568, 512,
                            566, 512,  564, 1588, 568,  1590, 568, 512,  566, 1588, 568, 512,
                            566, 1588, 570, 1586, 568,  1588, 568, 1588, 580, 526,  540, 1590,
                            564, 1590, 568, 1588, 568,  512,  566, 512,  566, 512,  566, 510,
                            566, 1588, 568, 512,  566,  510,  566, 1590, 568, 1590, 568, 1588,
                            568, 512,  566, 512,  566,  510,  566, 512,  566, 512,  566, 512,
                            564, 512,  566, 512,  566,  1590, 578, 1578, 568, 1588, 584, 1572,
                            568, 1588, 568, 5588, 4466, 4368, 594, 1562, 568, 512,  566, 1590,
                            568, 1586, 568, 512,  566,  510,  566, 1588, 606, 500,  540, 512,
                            566, 1588, 568, 512,  566,  512,  566, 1590, 568, 1588, 568, 512,
                            566, 1588, 568, 510,  566,  1588, 568, 1586, 568, 1588, 568, 1590,
                            574, 534,  536, 1588, 568,  1588, 568, 1586, 594, 518,  536, 510,
                            566, 542,  534, 512,  566,  1588, 566, 512,  566, 512,  566, 1588,
                            568, 1588, 568, 1586, 578,  532,  536, 512,  566, 510,  566, 512,
                            566, 512,  566, 512,  566,  510,  566, 512,  566, 1588, 578, 1576,
                            568, 1588, 578, 1578, 568,  1588, 568
                           };  // COOLIX B27BE0

uint16_t rawData20[199] = {4494, 4368, 610, 1546, 498,  582,  494, 1658, 496, 1660, 608, 470,
                           494,  582,  496, 1656, 610,  470,  494, 584,  494, 1658, 496, 584,
                           494,  582,  494, 1658, 610,  1548, 608, 470,  494, 1658, 496, 1662,
                           608,  470,  494, 1658, 612,  1544, 586, 1570, 610, 1546, 496, 1660,
                           496,  1658, 610, 470,  494,  1658, 610, 470,  494, 582,  494, 584,
                           494,  584,  494, 582,  494,  584,  494, 584,  494, 584,  494, 1658,
                           496,  584,  494, 584,  494,  582,  494, 582,  494, 584,  494, 1660,
                           496,  1660, 494, 584,  494,  1658, 610, 1546, 496, 1660, 610, 1546,
                           496,  1660, 496, 5656, 4470, 4360, 498, 1658, 496, 584,  494, 1660,
                           496,  1660, 496, 582,  494,  584,  494, 1660, 498, 580,  496, 584,
                           494,  1660, 494, 584,  494,  584,  494, 1660, 496, 1660, 610, 468,
                           494,  1660, 610, 1546, 498,  582,  494, 1660, 610, 1544, 496, 1660,
                           610,  1546, 496, 1660, 496,  1660, 496, 584,  494, 1658, 496, 584,
                           494,  582,  494, 584,  494,  584,  494, 582,  494, 584,  494, 584,
                           494,  582,  494, 1658, 496,  584,  494, 584,  494, 582,  494, 584,
                           494,  582,  494, 1660, 496, 1660,  496, 584,  494, 1658, 608, 1548,
                           608,  1546, 496, 1660, 496, 1660,  494
                          };  // COOLIX B2BF20

uint16_t rawData30[199] = {4498,  4380, 606,  1554, 570,  514,  566,  1592, 568,  1592, 568,  512,
                           566,   512,  566,  1590, 578,  532,  538,  514,  566,  1590, 570,  514,
                           566,   514,  566,  1590, 578,  1582, 568,  512,  566,  1590, 570,  512,
                           566,   512,  568,  512,  566,  1590, 578,  1580, 568,  1590, 570,  1590,
                           578,   1582, 568,  1592, 570,  1590, 568,  1588, 570,  514,  566,  512,
                           566,   516,  564,  514,  566,  512,  566,  1590, 570,  512,  566,  1590,
                           568,   1590, 568,  1592, 570,  512,  566,  544,  536,  540,  538,  512,
                           566,   1590, 568,  512,  566,  516,  564,  514,  564,  1592, 576,  1580,
                           570,   1590, 568,  5594, 4458, 4386, 594,  1566, 568,  512,  566,  1592,
                           568,   1592, 568,  512,  566,  512,  566,  1590, 568,  542,  536,  514,
                           564,   1592, 568,  512,  566,  512,  566,  1592, 568,  1592, 566,  514,
                           566,   1590, 578,  504,  566,  514,  566,  512,  566,  1592, 568,  1588,
                           570,   1590, 568,  1588, 576,  1584, 566,  1590, 570,  1590, 568,  1590,
                           568,   512,  566,  512,  566,  514,  566,  514,  566,  512,  566,  1588,
                           570,   514,  566,  1590, 568,  1590, 568,  1592, 568,  512,  566,  514,
                           566,   514,  566,  512,  566,  1590, 568,  514,  566,  514,  566,  512,
                           566,   1590, 568,  1588, 578,  1580, 570
                          };  // COOLIX B21FB8


void setup()
{
  irsend.begin();
  Serial.begin(115200, SERIAL_8N1, SERIAL_TX_ONLY);
  // WiFiManager wifiManager;
  // wifiManager.autoConnect("AirConditional-IoT");
  // Serial.print("connected to");
  // Serial.println(WiFi.localIP());
}

void loop()
{
  irsend.sendRaw(rawData20, 199, 38);  // Send a raw data capture at 38kHz.
  delay(2000);
  irsend.sendRaw(rawData30, 199, 38);  // Send a raw data capture at 38kHz.
  delay(2000);
  irsend.sendRaw(rawDataOff, 199, 38);  // Send a raw data capture at 38kHz.
  delay(5000);
}
